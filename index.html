<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy-Quest-Welt</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="main-content">
        <h1>Pfad des Nordwinds: Deine Reise jenseits der bekannten Lande  <button id="start-btn" onclick="startAdventure()">Abenteuer beginnen</button></h1>
    </div>

    
    <div id="map-container">
        <img src="assets/map.webp" id="map" alt="Fantasy-Karte">
        <!-- NPCs als klickbare Questgeber -->
        <img src="assets/npc1.png" class="npc" style="top: 50%; right: 55%; width: 60px; height: auto" onclick="startQuest(1)">
        <img src="assets/npc3.png" class="npc" style="top: 65%; left: 15%; width: 150px; height: auto" onclick="startQuest(4)">
        <img src="assets/npc2.png" class="npc" style="top: 65%; left: 64%; width: 100px; height: auto" onclick="startQuest(2)">
        <img src="assets/npc4.png" class="npc" style="top: 75%; left: 45%; width: 230px; height: auto" onclick="startQuest(3)">
        <img src="assets/npc5.png" class="npc" style="top: 36%; left: 62%; width:120px; height: auto" onclick="startQuest(5)">
        <img src="assets/npc7.png" class="npc" style="top: 44%; left: 23%; width:100px; height: auto" onclick="showBubbleTiger('Roarrr..')">
        <img src="assets/npc6.png" class="npc" style="top: 26%; left: 49%; width: 120px; height: auto" onclick="showBubble('Frostmourne hungers..')">
        <div id="npc-bubble" class="speech-bubble hidden" style="top: 20%; left: 55%"></div>
        <div id="npc-bubble-tiger" class="speech-bubble hidden" style="top: 40%; left: 27%"></div>
                <!-- 🎉 Congratulations Popup -->
        <div id="congrats-popup" class="final-modal hidden">
            <p>🏆 Glückwunsch! Du hast alle Quests gemeistert.</p>
            <button onclick="showFinalChoice()">Belohnung entdecken</button>
        </div>
        <!-- ❓ Final Choice Modal -->
        <div id="final-choice" class="final-modal hidden">
            <p>Wir fliegen Ende Juli zusammen nach Norwegen und genießen die Natur. Hast du Lust?</p>
            <div class="choice-buttons">
                <button onclick="handleFinalChoice('yes')">Ja</button>
                <button onclick="handleFinalChoice('no')">Nein</button>
                <button onclick="handleFinalChoice('maybe')">Vielleicht</button>
            </div>
        </div>
    </div>

    <!-- Quest-Fenster -->
    <div id="quest-modal" style="display: none;">
        <p id="quest-story" style="font-style: bold; margin-bottom: 10px;"></p>
        <p id="quest-text"></p>
        <input type="text" id="answer" placeholder="Deine Antwort eingeben...">
        <button onclick="checkAnswer()">Antwort prüfen</button>
        <button onclick="closeModal()">Schließen</button>
    </div>
    <div id="quest-feedback" class="feedback-box hidden"></div>
    

    <audio id="bg-music" src="assets/Old Friends.mp3" autoplay loop></audio>
    <audio id="sound-click" src="assets/sound-click.mp3"></audio>
    <audio id="sound-correct" src="assets/sound-correct.mp3"></audio>
    <audio id="sound-wrong" src="assets/sound-wrong.mp3"></audio>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</body>

</html>